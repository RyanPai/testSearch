{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["Box","styled","div","_templateObject","spacing","palette","App","props","_this","Object","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","isSigin","files","childrens","series","searchMethod","inputText","downloadType","product","upc","downloadDone","searchItem","downloadLoading","url","base64","pdf","loadClient","bind","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","loadFiles","loadSeries","seriesInit","onDownloadZIP","downloadData","onSaveFileZIP","window","gapi","load","initClient","client","init","apiKey","clientId","scope","then","error","console","log","isSignin","auth2","getAuthInstance","signIn","err","_this2","setState","event","authenticate","_this3","drive","list","response","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","result","items","id","_this4","q","concat","map","item","res","length","type","title","_this5","i","_this6","_this$state","split","key","join","data","s","filter","qItem","downloadUrl","fileExtension","_this7","_ref","axios","method","responseType","headers","Authorization","auth","getToken","token_type","access_token","Blob","Buffer","toString","push","done","_this8","keys","doneItems","zip","JSZip","folder","file","binary","generateAsync","content","FileSaver","saveAs","e","target","value","checked","_Users_Ryan_dev_www_ovvooptics_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_this9","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","className","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_22___default","position","color","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_28___default","variant","p","_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_26___default","_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_25___default","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_27___default","onClick","handleAuthClick","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_32___default","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_14___default","container","xs","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_30___default","label","multiline","rowsMax","onChange","onInputChange","margin","style","width","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_16___default","control","_material_ui_core_Checkbox__WEBPACK_IMPORTED_MODULE_15___default","onDownloadType","disabled","_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_20___default","_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_21___default","_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_19___default","align","_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_18___default","component","Component","Boolean","location","hostname","match","ReactDOM","render","react_default","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.50cfb2cb.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport FileSaver from 'file-saver';\nimport JSZip from 'jszip' \nimport './App.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport styled from 'styled-components';\nimport TextField from '@material-ui/core/TextField';\nimport { spacing, palette } from '@material-ui/system';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nconst Box = styled.div`${spacing}${palette}`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSigin: false,\n      files: [],\n      childrens: [],\n      series: {},\n      searchMethod: 'input',\n      inputText: '',\n      downloadType: {\n        product: true,\n        upc: false\n      },\n      downloadDone: false,\n      searchItem: {},\n      downloadLoading: false,\n      url: '',\n      base64: '',\n      pdf: ''\n    }\n\n    this.loadClient = this.loadClient.bind(this);\n    this.loadFiles = this.loadFiles.bind(this);\n    this.loadSeries = this.loadSeries.bind(this)\n    this.seriesInit = this.seriesInit.bind(this);\n    this.onDownloadZIP = this.onDownloadZIP.bind(this);\n    this.downloadData = this.downloadData.bind(this);\n    this.onSaveFileZIP = this.onSaveFileZIP.bind(this);\n  }\n  componentDidMount() {\n    const { gapi } = window;\n    gapi.load('client:auth2', this.initClient.bind(this));\n  }\n\n  initClient() {\n    const { gapi } = window;\n\n    gapi.client.init({\n      apiKey: 'AIzaSyAAKJOAw6uBXpKhpAkXQy0e0pPFxpNMraM',\n      clientId: '1090032071436-ejoeke6m3hupc8i8p41u6tf2pl1scmld.apps.googleusercontent.com',\n      // discoveryDocs: \"https://content.googleapis.com/discovery/v1/apis/drive/v2/rest\",\n      scope: 'https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/drive.photos.readonly https://www.googleapis.com/auth/drive.readonly'\n    }).then( () => {\n      // Listen for sign-in state changes.\n      // gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus);\n      // this.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n    }, (error) => {\n      console.log(error)\n    }); \n  }\n  updateSigninStatus (isSignin) {\n    console.log(isSignin)\n  }\n  authenticate() {\n    const { gapi } = window;\n    return gapi.auth2.getAuthInstance()\n      .signIn({scope: \"https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/drive.photos.readonly https://www.googleapis.com/auth/drive.readonly\"})\n      .then(function() { console.log(\"Sign-in successful\"); },\n            function(err) { console.error(\"Error signing in\", err); });\n  }\n  loadClient() {\n    const { gapi } = window;\n    return gapi.client.load(\"https://content.googleapis.com/discovery/v1/apis/drive/v2/rest\")\n      .then(() => { \n        console.log(\"GAPI client loaded for API\"); \n        this.setState({isSigin: true});\n        /* gapi.client.drive.files.list({\n          \"q\": \"title='OVVO Product / UPC Finder'\"\n        })\n          .then((res) => {\n            this.loadSeries(res.result.items[0].id);\n          },\n          (err) => { console.error(\"Execute error\", err);}) */\n        \n      },\n      (err) => { console.error(\"Error loading GAPI client for API\", err); });\n  }\n  handleAuthClick(event) {\n    const { gapi } = window;\n    this.authenticate()\n    .then(this.loadClient)\n  }\n  loadFiles() {\n    const { gapi } = window;\n    \n    gapi.client.drive.files.list({})\n      .then(\n        (response) => {\n          this.setState({files: [...response.result.items]})\n        },\n        (err) => { console.error(\"Execute error\", err);}\n      );\n  }\n  loadSeries (id) {\n    const { gapi } = window;\n    //project\n    gapi.client.drive.files.list({\n      \"q\": `'${id}' in parents`\n    })\n    .then((response) => {\n      response.result.items.map((item) =>{\n        gapi.client.drive.files.list({\n          \"q\": `'${item.id}' in parents`\n        })\n        .then((res) =>{\n          if (res.result.items.length) {\n            res.result.type = item.title;\n            this.state.childrens = [...this.state.childrens, res.result];\n            this.seriesInit()\n          }\n        }, (err) => { console.error(\"Execute error\", err); })\n      })\n    },\n    (err) => { console.error(\"Execute error\", err); })\n  }\n\n  seriesInit() {\n    const { childrens } = this.state;\n\n    if (childrens.length >=2) {\n      childrens.map((item) =>{\n        item.items.map((i) =>{\n          this.state.series[i.title] = this.state.series[i.title] || {};\n          this.state.series[i.title][(item.type == 'UPC' ? 'upc' : 'product')] = i.id;\n        })\n      })\n    }\n  }\n  onDownloadZIP() {\n    const { gapi } = window;\n    const { searchMethod, downloadType } = this.state;\n    this.setState({downloadLoading: true, downloadDone: false});\n    this.state.searchItem = {};\n    if (searchMethod == 'input') {\n      let data = this.state.inputText.split(/[\\n||,]/);\n      let searchQuery = data.map((item) =>{\n        return item.split(/[-_\\/]/)\n      })\n\n      searchQuery.map((item) => {\n        if (item[0]) {\n          let key = item.join('-');\n          this.state.searchItem[key] = {\n            data: []\n          };\n          let q = `fullText contains '${item[0]}'`;\n          item.map((s, i) =>{\n            if (i > 0) {\n              q += ` and fullText contains '${s}'`;\n            }\n          });\n          \n          gapi.client.drive.files.list({\n            q\n          })\n            .then((res) => {\n              let items = res.result.items.filter((qItem) =>{\n                \n                if(downloadType.product && downloadType.upc) {\n                  this.downloadData({key,url: qItem.downloadUrl,type: qItem.fileExtension, title: qItem.title })\n                  return qItem;\n                } else if(downloadType.product && qItem.fileExtension != 'pdf'){\n                  this.downloadData({key,url: qItem.downloadUrl,type: qItem.fileExtension, title: qItem.title })\n                  return qItem.fileExtension != 'pdf';\n                } else if(downloadType.upc && qItem.fileExtension == 'pdf'){\n                  this.downloadData({key,url: qItem.downloadUrl,type: qItem.fileExtension, title: qItem.title })\n                  return qItem.fileExtension == 'pdf';\n                }\n              })\n              this.state.searchItem[key].items = items;\n              \n            },(err) => { console.error(\"Execute error\", err);})\n        }\n      });\n    } else {\n      console.log(this.state.searchItem)\n    }\n  }\n\n  downloadData({key, url, type, title}) {\n    const { gapi } = window;\n\n    axios({\n      method:'get',\n      responseType: 'arraybuffer',\n      url,\n      headers: {\n        Authorization: `${gapi.auth.getToken().token_type} ${gapi.auth.getToken().access_token}`\n      }\n    })\n    .then((res) => {\n      let data;\n      if (type == 'pdf') {\n        data = new Blob([res.data], {type: 'application/pdf',})\n      } else {\n        data = new Buffer(res.data, \"binary\").toString(\"base64\");\n      }\n\n      this.state.searchItem[key].data.push({data, type, key, title});\n      if (this.state.searchItem[key].items.length == this.state.searchItem[key].data.length) {\n        this.state.searchItem[key].done = true;\n        this.onSaveFileZIP();\n      }\n    })\n  }\n\n  onSaveFileZIP() {\n    const { searchItem } = this.state;\n    let items = Object.keys(searchItem).map((item) => item);\n\n    let doneItems = Object.keys(searchItem).filter((key) =>{\n      return searchItem[key].done;\n    })\n    \n    if(items.length == doneItems.length) {\n      console.log('start down zip')\n      const zip = new JSZip();\n\n      Object.keys(searchItem).map((key) =>{\n        searchItem[key].data.map((item) =>{\n          const folder = zip.folder(item.key);\n          if (item.type == 'pdf') {\n            folder.file(item.title, item.data, { binary: true });\n          } else {\n            folder.file(item.title, item.data, {base64: true});\n          }\n        })\n      })\n      console.log(searchItem)\n      zip.generateAsync({type:\"blob\"})\n      .then((content) => {\n          // see FileSaver.js\n          FileSaver.saveAs(content, \"OVVO_Product.zip\");\n          this.setState({downloadLoading: false, downloadDone: true});\n      });\n      \n    }\n  }\n  onSearchMethod(e) {\n    this.setState({searchMethod: e.target.value})\n  }\n  onInputChange(e) {\n    this.setState({inputText: e.target.value})\n  }\n  onSeriesChecked(key, e) {\n    let series = this.state.series;\n    series[key].checked = e.target.checked;\n    this.setState({series: {...series}})\n  }\n  onDownloadType(key, e) {\n    let downloadType = this.state.downloadType;\n    downloadType[key] = e.target.checked;\n    this.setState({downloadType: {...downloadType}})\n  }\n  render() {\n    const { gapi } = window;\n\n    return (\n      <div className=\"App root\">\n        <AppBar position=\"static\" color=\"default\">\n          <Toolbar>\n            <Typography variant=\"h6\" color=\"inherit\">\n              OVVO Product / UPC Finder\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        {\n          !this.state.isSigin &&\n          <Box p={2}>\n            <Card>\n              <CardContent>\n                Log in to Google Drive\n              </CardContent>\n              <CardActions>\n                <Button variant=\"contained\" color=\"primary\" onClick={this.handleAuthClick.bind(this)}>Log in</Button>\n              </CardActions>\n            </Card>\n          </Box>\n        }\n        {\n          this.state.isSigin &&\n          <Box p={2}>\n          {\n            this.state.downloadLoading &&\n            <div>\n              <br />\n              <LinearProgress variant=\"query\" />\n              <br />\n            </div>\n          }\n          <Card>\n            <CardContent>\n              <Grid container spacing={24}>\n                 {/*<Grid item xs={12}>\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">Search Method</FormLabel>\n                    <RadioGroup\n                      row\n                      aria-label=\"searchMethod\"\n                      name=\"searchMethod\"\n                      value={this.state.searchMethod}\n                      onChange={this.onSearchMethod.bind(this)}\n                    >\n                      <FormControlLabel\n                        value=\"input\"\n                        control={<Radio />}\n                        label=\"By product model\"\n                      />\n                      <FormControlLabel value=\"series\" control={<Radio />} label=\"By collection\" />\n                    </RadioGroup>\n                  </FormControl>\n                </Grid>*/}\n                <Grid item xs={12}>\n                  <TextField\n                    id=\"outlined-multiline-flexible\"\n                    label=\"Model name / model color\"\n                    multiline\n                    rowsMax=\"10\"\n                    value={this.state.inputText}\n                    onChange={this.onInputChange.bind(this)}\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    style={{width: '100%'}}\n                  />\n                </Grid>\n                {/* {\n                  this.state.searchMethod == 'series' &&\n                  <Grid item xs={12}>\n                    {\n                      Object.keys(this.state.series).map((key,index) =>{\n                        return <FormControlLabel  key={index}\n                            control={\n                              <Checkbox\n                                checked={this.state.series.checked}\n                                value={key}\n                                color=\"primary\"\n                                onChange={this.onSeriesChecked.bind(this, key)}\n                              />\n                            }\n                            label={key}\n                          />\n                      })\n                    }\n                  </Grid>\n                } */}\n                  <Grid item xs={12}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={this.state.downloadType.product}\n                          value='product'\n                          color=\"primary\"\n                          onChange={this.onDownloadType.bind(this, 'product')}\n                        />\n                      }\n                      label='Product Image'\n                    />\n\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={this.state.downloadType.upc}\n                          value='upc'\n                          color=\"primary\"\n                          onChange={this.onDownloadType.bind(this, 'upc')}\n                        />\n                      }\n                      label='UPC'\n                    />\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent>\n                <Button disabled={this.state.downloadLoading} variant=\"contained\" color=\"primary\" onClick={this.onDownloadZIP}>Download ZIP</Button>\n              </CardContent>\n              {\n                this.state.downloadDone &&\n                <Table >\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>folder Name</TableCell>\n                      <TableCell align=\"right\">Itmes</TableCell>\n                      <TableCell align=\"right\">Total</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Object.keys(this.state.searchItem).map(key => {\n                      return (\n                        <TableRow key={key}>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {key}\n                          </TableCell>\n                          <TableCell align=\"right\">\n                            {\n                              this.state.searchItem[key].data.map((item, i) =>{\n                                return <div key={i}>{item.title}</div>\n                              })\n                            }\n                            </TableCell>\n                          <TableCell align=\"right\">{this.state.searchItem[key].data.length}</TableCell>\n                        </TableRow>\n                      );\n                    })\n                  }\n                  </TableBody>\n                </Table>\n              }\n            </Card>\n          </Box>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}